<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>The Team X Flood Prediction Tool &#8212; Flood Tool  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=61cd365c" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Formats" href="data_formats.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="the-team-x-flood-prediction-tool">
<h1>The Team X Flood Prediction Tool<a class="headerlink" href="#the-team-x-flood-prediction-tool" title="Link to this heading">¶</a></h1>
<p>This package implements a flood risk prediction and visualization tool.</p>
<section id="installation-instructions">
<h2>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Link to this heading">¶</a></h2>
<p><strong>Prerequisite</strong></p>
<p><strong>Ensure Python3 is installed on your machine</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">python3</span> <span class="pre">--version</span>
<span class="pre">`</span></code></p>
<p>This project uses Conda as a package manager for managing software packages, dependencies and environments. You should have conda configured on your local machine before installing the project.
You can check if Conda is installed by running:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">conda</span> <span class="pre">-V</span>
<span class="pre">`</span></code></p>
<p>We will now use Miniconda to create the <cite>deluge</cite> environment. To start, we first use <cite>git</cite> to clone the repository containing the materials of flooding risk project.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/ese-ada-lovelace-2024/ads-deluge-exe.git</span>
<span class="pre">`</span></code></p>
<p>Navigate into the repository (e.g., cd ads-deluge-exe). Then configure the conda environment:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">conda</span> <span class="pre">env</span> <span class="pre">create</span> <span class="pre">-f</span> <span class="pre">environment.yml</span>
<span class="pre">conda</span> <span class="pre">avtivate</span> <span class="pre">deluge</span>
<span class="pre">`</span></code></p>
<p>To deactivate the environment you can run:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">conda</span> <span class="pre">deactivate</span>
<span class="pre">`</span></code></p>
<p><strong>VS Code</strong></p>
<p>You can run the code in this project interactively in VSCode or use Jupyter Notebook for example. To get started:
1. Make sure you are setting up environment correctly and in the correct file path in the terminal.
2. In VS Code, run the following command.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">code</span> <span class="pre">.</span>
<span class="pre">`</span></code></p>
</section>
<section id="quick-usage-guide">
<h2>Quick Usage guide<a class="headerlink" href="#quick-usage-guide" title="Link to this heading">¶</a></h2>
<p><strong>Risk Tool</strong></p>
<p>The tool.py file combines the main functionality of the flooding risk tool. It provides methods for working with flood data associated with UK postcode and geographic coordinates. This enables predictions for:</p>
<ul class="simple">
<li><p>Risk labels</p></li>
<li><p>Median house prices</p></li>
<li><p>Identification of local authority</p></li>
<li><p>historic flooding</p></li>
</ul>
<p>—</p>
<p>#### <strong>To get started:</strong></p>
<p>The first step is to import the tool from the flood_tool module:</p>
<p><code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">import</span> <span class="pre">sys</span>
<span class="pre">sys.path.append('..')</span>
<span class="pre">import</span> <span class="pre">flood_tool</span> <span class="pre">as</span> <span class="pre">ft</span>
<span class="pre">tool</span> <span class="pre">=</span> <span class="pre">ft.Tool()</span>
<span class="pre">`</span></code></p>
<p>Now, the class is initialized, we can simply call functions from tool directly. See below for description and instruction of each function involved in this tool.py.</p>
<ol class="arabic simple">
<li><p>Flood risk prediction: Predict flood risk levels (with riskLabel being the target variable) for postcodes or geographic coordinates based on trained models.</p></li>
</ol>
<p>#### Flood risk for postcodes:
<code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">tool.predict_flood_class_from_postcodes(postcodes=['RH16</span> <span class="pre">2QE'],</span> <span class="pre">method</span> <span class="pre">=</span> <span class="pre">'predicting_all_risks')</span>
<span class="pre">`</span></code></p>
<p>#### Flood risk from easting/northing:
<code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">tool.predict_flood_class_from_OSGB36_location(eastings=[535295.0],</span> <span class="pre">northings=[123643.0],</span> <span class="pre">method='predicting_risk_from_easting_northing')</span>
<span class="pre">`</span></code></p>
<p>#### Flood risk from longitude/latitude:
<code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">tool.predict_flood_class_from_WGS84_locations(longitudes=[0],</span> <span class="pre">latitudes=[50],</span> <span class="pre">method</span> <span class="pre">=</span> <span class="pre">'predicting_risk_from_latitude_longitude')</span>
<span class="pre">`</span></code></p>
<p>2. Median house price prediction: Predicting median house prices for a collection of postcodes using Random Forest regression.
<code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">tool.predict_median_house_price(postcodes=['RH16</span> <span class="pre">2QE'],</span> <span class="pre">method</span> <span class="pre">=</span> <span class="pre">'house_price_rf')</span>
<span class="pre">`</span></code></p>
<p>3. Local authority prediction: Predicting local authorities for a sequence of easting and northing (OSGB36 locations).
<code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">tool.predict_local_authority(eastings=[535295.0],</span> <span class="pre">northings=[123643.0],</span> <span class="pre">method='local_authority')</span>
<span class="pre">`</span></code></p>
<p>4. Historic flooding prediction: predicting whether a collection of postcodes has experienced historic flooding.
<code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">tool.predict_historic_flooding(postcodes=['RH16</span> <span class="pre">2QE'],</span> <span class="pre">method='historic_flooding')</span>
<span class="pre">`</span></code></p>
<p>### Visualization</p>
<p>Once the packages are imported into the Data Visualization.ipynb, we then can use it to explaore/analysis the data and generating interactive plot (e.g., maps).</p>
<p>Follow the instructions below to understand the functionality provided.</p>
<ol class="arabic simple">
<li><p>Import functions from analysis.py to be able to perform EDA.</p></li>
<li><p>Import functions from mapping.py to plot predicted variables (local authority, median house prices, historic flooding and risk labels).</p></li>
</ol>
</section>
<section id="further-documentation">
<h2>Further Documentation<a class="headerlink" href="#further-documentation" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_formats.html">Data Formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_formats.html#unit-level-data">Unit level Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_formats.html#sector-level-data">Sector Level Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_formats.html#distrist-level-data">Distrist level Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_formats.html#environment-agency-data">Environment Agency Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Regression and Classification models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="models.html#median-house-price-prediction">Median House Price Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#risk-prediction-models">Risk Prediction Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#local-authority-prediction-models">Local Authority Prediction Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coordinates.html">Distance Measuring &amp; Geodetic Transformations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="coordinates.html#distances-on-the-earth">Distances on the Earth</a></li>
<li class="toctree-l2"><a class="reference internal" href="coordinates.html#leveraging-projections">Leveraging Projections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualising Risk &amp; Rainfall</a><ul>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#flood-risk-visualization">Flood risk visualization</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="module-flood_tool">
<span id="function-apis"></span><h2>Function APIs<a class="headerlink" href="#module-flood_tool" title="Link to this heading">¶</a></h2>
<p>Python flood risk analysis tool</p>
<dl class="py class">
<dt class="sig sig-object py" id="flood_tool.Tool">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">Tool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labelled_unit_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unlabelled_unit_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sector_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">district_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.Tool" title="Link to this definition">¶</a></dt>
<dd><p>Class to interact with a postcode database file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unlabelled_unit_data</strong> (<em>str</em><em>, </em><em>optional</em>) – Filename of a .csv file containing geographic location
data for postcodes.</p></li>
<li><p><strong>labelled_unit_data</strong> (<em>str</em><em>, </em><em>optional</em>) – Filename of a .csv containing class labels for specific
postcodes.</p></li>
<li><p><strong>sector_data</strong> (<em>str</em><em>, </em><em>optional</em>) – Filename of a .csv file containing information on households
by postcode sector.</p></li>
<li><p><strong>district_data</strong> (<em>str</em><em>, </em><em>optional</em>) – Filename of a .csv file containing information on households
by postcode district.</p></li>
<li><p><strong>additional_data</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary containing additional .csv files containing addtional
information on households.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.estimate_annual_flood_economic_risk">
<span class="sig-name descname"><span class="pre">estimate_annual_flood_economic_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.series.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.estimate_annual_flood_economic_risk" title="Link to this definition">¶</a></dt>
<dd><p>Return a series of estimates of the total economic property risk
for a collection of postcodes.</p>
<p>Risk is defined here as a damage coefficient multiplied by the
value under threat multiplied by the probability of an event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcode units.</p></li>
<li><p><strong>risk_labels</strong> (<em>pandas.Series</em><em> (</em><em>optional</em><em>)</em>) – optionally provide a Pandas Series containing flood risk
classifiers, as predicted by get_flood_class_from_postcodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of total annual economic flood risk estimates indexed
by postcode.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.estimate_annual_human_flood_risk">
<span class="sig-name descname"><span class="pre">estimate_annual_human_flood_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.series.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.estimate_annual_human_flood_risk" title="Link to this definition">¶</a></dt>
<dd><p>Return a series of estimates of the risk to human life for a
collection of postcodes.</p>
<p>Risk is defined here as an impact coefficient multiplied by the
estimated number of people under threat multiplied by the probability
of an event.</p>
<p>We assume that the total population is number of households
divided by the number of postcode units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcode units.</p></li>
<li><p><strong>risk_labels</strong> (<em>pandas.Series</em><em> (</em><em>optional</em><em>)</em>) – Series containing flood risk classifiers, as
predicted by get_flood_class_from_postcodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of total annual human flood risk estimates
indexed by postcode.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.estimate_total_value">
<span class="sig-name descname"><span class="pre">estimate_total_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.estimate_total_value" title="Link to this definition">¶</a></dt>
<dd><p>Return a series of estimates of the total property values
of a sequence of postcode units or postcode sectors.</p>
<p>The estimate is based on the median house price for the area and an
estimate of the number of properties it contains.</p>
<p>We assume that the total number of houses is number of households
divided by the number of postcode units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>postal_data</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcode units or postcode sectors (either
may be used).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of total property value estimates indexed by locations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_hyperparameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.Tool.fit" title="Link to this definition">¶</a></dt>
<dd><p>Fit/train models using a labelled set of samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>models</strong> (<em>sequence</em><em> of </em><em>model keys</em>) – Models to fit/train</p></li>
<li><p><strong>update_labels</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Filename of a .csv file containing an updated
labelled set of samples
in the same format as the original labelled set.</p>
<p>If not provided, the data set provided at
initialisation is used.</p>
</p></li>
<li><p><strong>update_hyperparameters</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, models may tune their hyperparameters, where
possible. If False, models will use their default hyperparameters.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tool</span> <span class="o">=</span> <span class="n">Tool</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcp_methods</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">flood_class_from_postcode_methods</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tool</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">fcp_methods</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">classes</span> <span class="o">=</span> <span class="n">tool</span><span class="o">.</span><span class="n">predict_flood_class_from_postcode</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">[</span><span class="s1">&#39;M34 7QL&#39;</span><span class="p">],</span> <span class="n">fcp_methods</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.impute_missing_values">
<span class="sig-name descname"><span class="pre">impute_missing_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constant_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'distanceToWatercourse':</span> <span class="pre">80,</span> <span class="pre">'elevation':</span> <span class="pre">60.0,</span> <span class="pre">'localAuthority':</span> <span class="pre">nan,</span> <span class="pre">'nearestWatercourse':</span> <span class="pre">'',</span> <span class="pre">'soilType':</span> <span class="pre">'Unsurveyed/Urban'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#flood_tool.Tool.impute_missing_values" title="Link to this definition">¶</a></dt>
<dd><p>Impute missing values in a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataframe</strong> (<em>pandas.DataFrame</em>) – DataFrame (in the format of the unlabelled postcode data)
potentially containing missing values as NaNs, or with missing
columns.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Method to use for imputation. Options include:
- ‘mean’: Use the mean for the labelled dataset.
- ‘constant’: Use a constant value for imputation.
- ‘knn’: Use k-nearest neighbours imputation from the
labelled dataset.</p></li>
<li><p><strong>constant_values</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dictionary containing constant values to
use for imputation in the format {column_name: value}.
Only used if method is ‘constant’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with missing values imputed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tool</span> <span class="o">=</span> <span class="n">Tool</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">missing</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_example_dir</span><span class="p">,</span> <span class="s1">&#39;postcodes_missing_data.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">missing</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">tool</span><span class="o">.</span><span class="n">impute_missing_values</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.lookup_easting_northing">
<span class="sig-name descname"><span class="pre">lookup_easting_northing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes:</span> <span class="pre">~collections.abc.Sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype:</span> <span class="pre">~numpy.dtype</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#flood_tool.Tool.lookup_easting_northing" title="Link to this definition">¶</a></dt>
<dd><p>Get a dataframe of OS eastings and northings from a sequence of
input postcodes in the labelled or unlabelled datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcodes.</p></li>
<li><p><strong>dtype</strong> (<em>numpy.dtype</em><em>, </em><em>optional</em>) – Data type of the easting and northing columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing columns of ‘easthing’ and ‘northing’,
indexed by the input postcodes. Invalid postcodes (i.e. those
not in the available postcodes file) return as NaN.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tool</span> <span class="o">=</span> <span class="n">Tool</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">tool</span><span class="o">.</span><span class="n">lookup_easting_northing</span><span class="p">([</span><span class="s1">&#39;RH16 2QE&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span>  
<span class="go">           easting  northing</span>
<span class="go">RH16 2QE  535295.0  123643.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">tool</span><span class="o">.</span><span class="n">lookup_easting_northing</span><span class="p">([</span><span class="s1">&#39;RH16 2QE&#39;</span><span class="p">,</span> <span class="s1">&#39;AB1 2PQ&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span>  
<span class="go">           easting  northing</span>
<span class="go">RH16 2QE  535295.0  123643.0</span>
<span class="go">AB1 2PQ        NaN       NaN</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.lookup_lat_long">
<span class="sig-name descname"><span class="pre">lookup_lat_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes:</span> <span class="pre">~collections.abc.Sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype:</span> <span class="pre">~numpy.dtype</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#flood_tool.Tool.lookup_lat_long" title="Link to this definition">¶</a></dt>
<dd><p>Get a Pandas dataframe containing GPS latitude and longitude
information for a sequence of postcodes in the labelled or
unlabelled datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcodes.</p></li>
<li><p><strong>dtype</strong> (<em>numpy.dtype</em><em>, </em><em>optional</em>) – Data type of the latitude and longitude columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing only WGS84 latitude and longitude pairs for
the input postcodes. Missing/Invalid postcodes (i.e. those not in
the input unlabelled postcodes file) return as NaNs in the latitude
and longitude columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tool</span> <span class="o">=</span> <span class="n">Tool</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tool</span><span class="o">.</span><span class="n">lookup_lat_long</span><span class="p">([</span><span class="s1">&#39;M34 7QL&#39;</span><span class="p">])</span> 
<span class="go">        latitude  longitude</span>
<span class="go">postcode</span>
<span class="go">M34 7QL  53.4461    -2.0997</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.predict_flood_class_from_OSGB36_location">
<span class="sig-name descname"><span class="pre">predict_flood_class_from_OSGB36_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eastings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">northings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_zero_risk'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.predict_flood_class_from_OSGB36_location" title="Link to this definition">¶</a></dt>
<dd><p>Generate series predicting flood probability classification
for a collection of locations given as eastings and northings
on the Ordnance Survey National Grid (OSGB36) datum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eastings</strong> (<em>sequence</em><em> of </em><em>floats</em>) – Sequence of OSGB36 eastings.</p></li>
<li><p><strong>northings</strong> (<em>sequence</em><em> of </em><em>floats</em>) – Sequence of OSGB36 northings.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – optionally specify (via a key in the
get_flood_class_from_location_methods dict) the classification
method to be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of flood risk classification labels indexed by locations
as an (easting, northing) tuple.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.predict_flood_class_from_WGS84_locations">
<span class="sig-name descname"><span class="pre">predict_flood_class_from_WGS84_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">longitudes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitudes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_zero_risk'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.predict_flood_class_from_WGS84_locations" title="Link to this definition">¶</a></dt>
<dd><p>Generate series predicting flood probability classification
for a collection of WGS84 datum locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>longitudes</strong> (<em>sequence</em><em> of </em><em>floats</em>) – Sequence of WGS84 longitudes.</p></li>
<li><p><strong>latitudes</strong> (<em>sequence</em><em> of </em><em>floats</em>) – Sequence of WGS84 latitudes.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – optionally specify (via a key in
get_flood_class_from_location_methods dict) the classification
method to be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of flood risk classification labels multi-indexed by
location as a (longitude, latitude) pair.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.predict_flood_class_from_postcode">
<span class="sig-name descname"><span class="pre">predict_flood_class_from_postcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_zero_risk'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.predict_flood_class_from_postcode" title="Link to this definition">¶</a></dt>
<dd><p>Generate series predicting flood probability classification
for a collection of poscodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcode units.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – optionally specify (via a key in the
<cite>get_flood_class_from_postcode_methods</cite> dict) the classification
method to be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of flood risk classification labels indexed by postcodes.
Returns NaN for postcode units not in the available postcode files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.predict_historic_flooding">
<span class="sig-name descname"><span class="pre">predict_historic_flooding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_false'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.predict_historic_flooding" title="Link to this definition">¶</a></dt>
<dd><p>Generate series predicting whether a collection of postcodes
has experienced historic flooding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcode units.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – optionally specify (via a key in the
historic_flooding_methods dict) the classification
method to be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series indicating whether a postcode experienced historic
flooding, indexed by the postcodes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.predict_local_authority">
<span class="sig-name descname"><span class="pre">predict_local_authority</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eastings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">northings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'local_authority'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.predict_local_authority" title="Link to this definition">¶</a></dt>
<dd><p>Generate series predicting local authorities in m for a sequence
of OSGB36 locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eastingss</strong> (<em>sequence</em><em> of </em><em>floats</em>) – Sequence of OSGB36 eastings.</p></li>
<li><p><strong>northings</strong> (<em>sequence</em><em> of </em><em>floats</em>) – Sequence of OSGB36 northings.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – optionally specify (via a key in the
local_authority_methods dict) the classification
method to be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of predicted local authorities for the input
locations, and multiindexed by the location as a
(easting, northing) tuple.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flood_tool.Tool.predict_median_house_price">
<span class="sig-name descname"><span class="pre">predict_median_house_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_england_median'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.Tool.predict_median_house_price" title="Link to this definition">¶</a></dt>
<dd><p>Generate series predicting median house price for a collection
of poscodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postcodes</strong> (<em>sequence</em><em> of </em><em>strs</em>) – Sequence of postcode units.</p></li>
<li><p><strong>method</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – optionally specify (via a key in the
get_house_price_methods dict) the regression
method to be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of median house price estimates indexed by postcodes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.dms2rad">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">dms2rad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.dms2rad" title="Link to this definition">¶</a></dt>
<dd><p>Convert degrees, minutes, seconds to radians.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deg</strong> (<em>array_like</em>) – Angle in degrees.</p></li>
<li><p><strong>min</strong> (<em>array_like</em>) – (optional) Angle component in minutes.</p></li>
<li><p><strong>sec</strong> (<em>array_like</em>) – (optional) Angle component in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angle in radians.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.euclidean_distance">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">euclidean_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">easting1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">northing1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">easting2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">northing2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.euclidean_distance" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the Euclidean distance points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>easting1</strong> (<em>array_like</em><em> or </em><em>float</em>) – Easting of the first point.</p></li>
<li><p><strong>northing1</strong> (<em>array_like</em><em> or </em><em>float</em>) – Northing of the first point.</p></li>
<li><p><strong>easting2</strong> (<em>array_like</em><em> or </em><em>float</em>) – Easting of the second point.</p></li>
<li><p><strong>northing2</strong> (<em>array_like</em><em> or </em><em>float</em>) – Northing of the second point.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance between the two points in metres. Shape is the
broadcast shape of the input arrays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_easting_northing_from_gps_lat_long">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_easting_northing_from_gps_lat_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rads=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.get_easting_northing_from_gps_lat_long" title="Link to this definition">¶</a></dt>
<dd><p>Get OSGB36 easting/northing from GPS latitude and longitude pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> (<em>float/arraylike</em>) – GPS (i.e. WGS84 datum) latitude value(s)</p></li>
<li><p><strong>lam</strong> (<em>float/arraylike</em>) – GPS (i.e. WGS84 datum) longitude value(s).</p></li>
<li><p><strong>rads</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – If true, specifies input is is radians, otherwise
degrees are assumed.</p></li>
<li><p><strong>dtype</strong> (<em>numpy.dtype</em><em> (</em><em>optional</em><em>)</em>) – Data type of output arrays.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy.ndarray</em> – Easting values (in m)</p></li>
<li><p><em>numpy.ndarray</em> – Northing values (in m)</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_easting_northing_from_gps_lat_long</span><span class="p">([</span><span class="mf">55.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.54</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">(array([429157]), array([623009]))</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>Based on the formulas in ‘A guide to coordinate systems in Great Britain’.
See also <a class="reference external" href="https://webapps.bgs.ac.uk/data/webservices/convertForm.cfm">https://webapps.bgs.ac.uk/data/webservices/convertForm.cfm</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_gps_lat_long_from_easting_northing">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_gps_lat_long_from_easting_northing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">east</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">north</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rads=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dms=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.get_gps_lat_long_from_easting_northing" title="Link to this definition">¶</a></dt>
<dd><p>Get OSGB36 easting/northing from GPS latitude and
longitude pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>east</strong> (<em>float/arraylike</em>) – OSGB36 easting value(s) (in m).</p></li>
<li><p><strong>north</strong> (<em>float/arrayling</em>) – OSGB36 easting value(s) (in m).</p></li>
<li><p><strong>rads</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – If true, specifies ouput is is radians.</p></li>
<li><p><strong>dms</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – If true, output is in degrees/minutes/seconds. Incompatible
with rads option.</p></li>
<li><p><strong>dtype</strong> (<em>numpy.dtype</em><em> (</em><em>optional</em><em>)</em>) – Data type of output arrays.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy.ndarray</em> – GPS (i.e. WGS84 datum) latitude value(s).</p></li>
<li><p><em>numpy.ndarray</em> – GPS (i.e. WGS84 datum) longitude value(s).</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">isclose</span><span class="p">,</span> <span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lat</span><span class="p">,</span> <span class="n">long</span> <span class="o">=</span> <span class="n">get_gps_lat_long_from_easting_northing</span><span class="p">([</span><span class="mi">429157</span><span class="p">],</span> <span class="p">[</span><span class="mi">623009</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">isclose</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">array</span><span class="p">([</span><span class="mf">55.5</span><span class="p">]))</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">isclose</span><span class="p">(</span><span class="n">long</span><span class="p">,</span> <span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.54</span><span class="p">]))</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>Based on the formulas in ‘A guide to coordinate systems in Great Britain’.
See also <a class="reference external" href="https://webapps.bgs.ac.uk/data/webservices/convertForm.cfm">https://webapps.bgs.ac.uk/data/webservices/convertForm.cfm</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_latest_rainfall_readings">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_latest_rainfall_readings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#flood_tool.get_latest_rainfall_readings" title="Link to this definition">¶</a></dt>
<dd><p>Return last readings for all rainfall stations via live API.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">get_latest_rainfall_readings</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_live_station_data">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_live_station_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#flood_tool.get_live_station_data" title="Link to this definition">¶</a></dt>
<dd><p>Return recent readings for a specified recording station from live API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>station_reference</strong> – station_reference to return.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">get_live_station_data</span><span class="p">(</span><span class="s1">&#39;0184TH&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_live_weather_data">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_live_weather_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['temperature_2m',</span> <span class="pre">'rain']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hourly</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['temperature_2m',</span> <span class="pre">'relative_humidity_2m',</span> <span class="pre">'rain']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flood_tool.get_live_weather_data" title="Link to this definition">¶</a></dt>
<dd><p>Return current and forecast weather data for a specified location
from live weather forecasting API.</p>
<p>Uses the Open-Meteo API.</p>
<p>See <a class="reference external" href="https://open-meteo.com/en/docs">https://open-meteo.com/en/docs</a> for full API documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> – Latitude of location</p></li>
<li><p><strong>long</strong> – Longitude of location</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">live_data</span><span class="p">,</span> <span class="n">forecast</span> <span class="o">=</span> <span class="n">get_live_weather_data</span><span class="p">(</span><span class="mf">51.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_station_data_from_csv">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_station_data_from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station_reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="headerlink" href="#flood_tool.get_station_data_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Return readings for a specified recording station from .csv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – filename to read</p></li>
<li><p><strong>station_reference</strong> (<em>str</em><em>, </em><em>optional</em>) – station_reference to return.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of data values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">get_station_data_from_csv</span><span class="p">(</span><span class="n">_wet_day_file</span><span class="p">,</span> <span class="s1">&#39;0184TH&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.get_stations">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">get_stations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/Users/tc2024/Documents/GitHub/week7/ads-deluge-exe/flood_tool/resources/stations.csv'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#flood_tool.get_stations" title="Link to this definition">¶</a></dt>
<dd><p>Return a DataFrame of the measurement stations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – filename to read</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame of the measurement stations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stations</span> <span class="o">=</span> <span class="n">get_stations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stations</span><span class="o">.</span><span class="n">stationReference</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> 
<span class="go">0      000008</span>
<span class="go">1      000028</span>
<span class="go">2    000075TP</span>
<span class="go">3    000076TP</span>
<span class="go">4    000180TP</span>
<span class="go">Name: stationReference, dtype: object</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.haversine_distance">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">haversine_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.haversine_distance" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the Haversine distance between points.</p>
<p>This implementation uses a spherical Earth approximation
using the mean radius of the Earth, which is 6371009 metres.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>array_like</em><em> or </em><em>float</em>) – Latitude of the first point.</p></li>
<li><p><strong>long1</strong> (<em>array_like</em><em> or </em><em>float</em>) – Longitude of the first point.</p></li>
<li><p><strong>lat2</strong> (<em>array_like</em><em> or </em><em>float</em>) – Latitude of the second point.</p></li>
<li><p><strong>long2</strong> (<em>array_like</em><em> or </em><em>float</em>) – Longitude of the second point.</p></li>
<li><p><strong>deg</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, input latitudes and longitudes are in degrees.
If False, input latitudes and longitudes are in radians.</p></li>
<li><p><strong>dms</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, input latitudes and longitudes are in degrees/minutes/seconds.
If False, input latitudes and longitudes are in decimal degrees.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance between the two points in metres. Shape is the
broadcast shape of the input arrays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.plot_circle">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">plot_circle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.plot_circle" title="Link to this definition">¶</a></dt>
<dd><p>Plot a circle on a map (creating a new folium map instance if necessary).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> (<em>float</em>) – latitude of circle to plot (degrees)</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – longitude of circle to plot (degrees)</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – radius of circle to plot (m)</p></li>
<li><p><strong>map</strong> (<em>folium.Map</em>) – existing map object</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Folium map object</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">folium</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_circle</span><span class="p">(</span><span class="mf">52.79</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.95</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="nb">map</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> 
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.plot_historically_flooded_areas">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">plot_historically_flooded_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.plot_historically_flooded_areas" title="Link to this definition">¶</a></dt>
<dd><p>Creates a scatter mapbox visualization of historically flooded areas.</p>
<section id="parameters">
<h3>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>df<span class="classifier">pd.DataFrame</span></dt><dd><p>The DataFrame containing columns ‘postcode’, ‘easting’, ‘northing’,
and other relevant data.</p>
</dd>
<dt>tool<span class="classifier">object</span></dt><dd><p>An object with a <cite>predict_historic_flooding</cite> method
to predict flooding for postcodes.</p>
</dd>
<dt>flooding_value<span class="classifier">float, optional</span></dt><dd><p>The value used to filter historically flooded areas (default is 1.0).</p>
</dd>
<dt>method<span class="classifier">str, optional</span></dt><dd><p>The method to use for historic flooding prediction
(default is ‘historic_flooding’).</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns:<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>fig<span class="classifier">plotly.graph_objects.Figure</span></dt><dd><p>The scatter mapbox figure.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.plot_predict_flood_class">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">plot_predict_flood_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.plot_predict_flood_class" title="Link to this definition">¶</a></dt>
<dd><p>Creates a scatter mapbox visualization of historically flooded areas.</p>
<section id="id1">
<h3>Parameters:<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>df<span class="classifier">pd.DataFrame</span></dt><dd><p>The DataFrame containing columns ‘postcode’, ‘easting’, ‘northing’,
and other relevant data.</p>
</dd>
<dt>tool<span class="classifier">object</span></dt><dd><p>An object with a <cite>predict_historic_flooding</cite> method
to predict flooding for postcodes.</p>
</dd>
<dt>flooding_value<span class="classifier">float, optional</span></dt><dd><p>The value used to filter historically flooded areas (default is 1.0).</p>
</dd>
<dt>method<span class="classifier">str, optional</span></dt><dd><p>The method to use for historic flooding prediction
(default is ‘historic_flooding’).</p>
</dd>
</dl>
</section>
<section id="id2">
<h3>Returns:<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>fig<span class="classifier">plotly.graph_objects.Figure</span></dt><dd><p>The scatter mapbox figure.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.plot_predict_median_house_price">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">plot_predict_median_house_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.plot_predict_median_house_price" title="Link to this definition">¶</a></dt>
<dd><p>Creates a scatter mapbox visualization of historically flooded areas.</p>
<section id="id3">
<h3>Parameters:<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>df<span class="classifier">pd.DataFrame</span></dt><dd><p>The DataFrame containing columns ‘postcode’, ‘easting’, ‘northing’,
and other relevant data.</p>
</dd>
<dt>tool<span class="classifier">object</span></dt><dd><p>An object with a <cite>predict_historic_flooding</cite> method
to predict flooding for postcodes.</p>
</dd>
<dt>flooding_value<span class="classifier">float, optional</span></dt><dd><p>The value used to filter historically flooded areas (default is 1.0).</p>
</dd>
<dt>method<span class="classifier">str, optional</span></dt><dd><p>The method to use for historic flooding prediction
(default is ‘historic_flooding’).</p>
</dd>
</dl>
</section>
<section id="id4">
<h3>Returns:<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>fig<span class="classifier">plotly.graph_objects.Figure</span></dt><dd><p>The scatter mapbox figure.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.plot_risk_map">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">plot_risk_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">risk_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['easting',</span> <span class="pre">'northing']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.plot_risk_map" title="Link to this definition">¶</a></dt>
<dd><p>Plot a risk map.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flood_tool.rad2dms">
<span class="sig-prename descclassname"><span class="pre">flood_tool.</span></span><span class="sig-name descname"><span class="pre">rad2dms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flood_tool.rad2dms" title="Link to this definition">¶</a></dt>
<dd><p>Convert radians to degrees or degrees, minutes, seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rad</strong> (<em>array_like</em>) – Angle in radians.</p></li>
<li><p><strong>dms</strong> (<em>bool</em>) – Use degrees, minutes, seconds format. If False, use decimal degrees.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Angle in degrees, minutes, seconds or decimal degrees.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Flood Tool</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_formats.html">Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Regression and Classification models</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinates.html">Distance Measuring &amp; Geodetic Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualising Risk &amp; Rainfall</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="data_formats.html" title="next chapter">Data Formats</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>